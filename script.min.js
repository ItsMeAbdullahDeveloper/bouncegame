let body=document.querySelector("body"),lives=document.querySelector(".lives"),container=document.querySelector(".container"),game=document.querySelector(".game"),ball=document.querySelector(".ball");const ring=new Audio("./audio/ring.mp3"),out=new Audio("./audio/out.mp3"),bounty=new Audio("./audio/bounty.mp3");class Dimentions{constructor(i){this.width=i.clientWidth,this.height=i.clientHeight,this.point1={x:i.offsetLeft,y:i.offsetTop},this.point2={x:i.offsetLeft+i.clientWidth,y:i.offsetTop},this.point3={x:i.offsetLeft+i.clientWidth,y:i.offsetTop+i.clientHeight},this.point4={x:i.offsetLeft,y:i.offsetTop+i.clientHeight}}}let bricksDimentions=[],thronesDimentions=[],lifeBallDimentions=[],gameChildrenDimentions=[],checkpointDimentions=[],keyDimentions=[],doorDimentions=[],keyCount=0,lifeCount=3,updateLevel=0,levels=[[[["B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B"],["B"," "," ","B"," "," "," "," "," "," "," "," ","B"," "," "," "," "," "," "," "," "," "," "," "," "," "," ","B","B"," "," "," "," ","B"," "," "," "," ","B"," "," "," "," "," "," "," "," "," "," ","B"],["B"," "," ","B"," "," "," "," "," "," "," "," ","B"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","B"," "," "," "," ","B"," "," "," "," ","B"," "," "," "," "," "," "," "," "," "," ","B"],["B"," "," ","B"," "," ","B"," "," "," "," "," ","B"," "," "," "," "," ","C"," "," "," "," "," "," "," "," "," ","B"," "," "," "," ","B"," "," "," "," ","B"," "," ","B"," "," "," "," "," "," ","K","B"],["B"," "," ","3"," "," ","B"," "," "," "," "," ","B"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","B"," "," "," "," ","B"," "," "," "," ","B"," "," ","B"," "," "," "," "," ","B","B","B"],["B"," "," "," "," "," ","B"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","B"," "," "," "," "," ","D"," ","B"],["B"," "," "," "," "," ","B"," ","1"," "," "," "," "," "," "," ","1"," "," "," ","1"," "," "," "," "," "," "," "," "," "," "," "," ","K"," ","b","1"," ","K"," "," ","B"," "," "," "," "," "," "," ","B"],["B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B"]],{x:2,y:3},{x:0,y:0}],[[["B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B"],["B"," "," "," "," "," "," "," ","B"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","B"],["B"," "," "," "," "," "," "," ","B"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","B"],["B"," "," "," "," "," "," "," ","B","L"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","B"],["B"," "," "," "," "," "," ","K","B","B","B"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","B"],["B"," "," "," "," "," ","B","B","B"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","B"],["B","K"," "," "," "," "," "," "," "," "," "," ","B","B"," "," "," ","B","B"," "," "," "," "," "," "," "," "," "," "," "," "," ","B"],["B","B","B","B"," "," "," "," "," "," "," ","B","B"," "," "," "," "," ","B","B"," "," "," "," "," "," "," "," "," "," "," "," ","B"],["B"," "," "," "," "," "," "," "," "," ","B","B"," "," "," "," "," "," "," ","B","B"," "," "," "," "," "," "," "," ","K"," "," ","B"],["B"," "," "," "," "," "," "," "," ","B","B"," "," "," "," ","1"," "," "," "," ","B","B"," "," "," ","C"," "," ","1","B"," "," ","B"],["B","B","B","B","B","B"," "," ","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B"," "," ","B"],["B"," "," "," "," ","B"," "," ","B","B"," "," "," "," "," "," "," "," "," "," "," ","B"," "," "," "," "," ","L"," ","B","B"," ","B"],["B"," "," "," "," ","B"," "," ","B","B"," "," "," "," "," "," "," "," "," "," "," ","B"," "," "," "," "," "," "," "," "," "," ","B"],["B"," "," "," ","B","B"," "," ","B","B","B"," "," "," "," "," "," "," "," "," ","K","B"," "," "," "," "," "," "," "," "," "," ","B"],["B"," "," "," ","B"," "," "," "," "," ","B"," "," "," "," "," "," "," "," "," ","B","B"," "," "," "," "," "," "," "," "," ","B","B"],["B"," "," "," "," "," "," ","K"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","B","B","B"],["B"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","D"," ","B"],["B"," "," "," "," "," "," ","1"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","B"],["B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B"]],{x:2,y:5},{x:0,y:-6}],[[["B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B"],["B"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","B"],["B"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","D"," ","B"],["B"," "," "," "," "," ","K","B"," "," "," "," "," "," "," "," "," "," "," "," "," ","B","1"," "," "," "," "," "," "," "," "," "," "," "," ","B"],["B"," "," "," ","B","B","B","B","1"," "," "," "," "," "," ","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B"],["B"," "," "," "," "," "," ","B","B","B","B","B","B","B","B","B"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","B"],["B","1"," "," "," "," "," ","B"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","B"],["B","B","B"," "," "," "," ","B"," "," "," "," "," "," "," "," "," "," "," "," "," ","B","C"," "," "," "," "," "," "," "," "," "," "," "," ","B"],["B"," "," "," "," "," "," ","B"," "," "," "," "," "," "," "," "," "," "," "," ","B","B","B"," "," "," "," "," "," "," "," "," "," "," "," ","B"],["B"," "," "," "," "," ","B","B"," "," "," "," "," "," "," ","B","B"," "," ","B","B"," ","B","B"," "," "," "," "," "," "," "," "," "," "," ","B"],["B","B","B","B"," "," "," "," "," "," "," "," "," "," ","B","B","3"," "," ","3","B","B"," ","B","B"," "," "," "," "," "," "," "," "," "," ","B"],["B","C"," "," "," "," "," "," "," "," "," "," "," ","B","B","B"," "," "," "," "," ","B","B","B","B","B","K"," "," "," "," "," "," "," "," ","B"],["B"," "," "," "," "," "," "," "," "," "," "," ","B","B","3","B","C"," "," "," "," "," ","B"," "," ","B","B"," "," "," "," "," "," "," "," ","B"],["B","B","B","B","B","B","B","B","B","B","B","B","B","B"," ","B","B"," "," "," "," "," ","B"," "," "," ","B","B"," "," "," "," "," "," "," ","B"],["B"," "," "," "," "," "," "," "," "," "," "," "," ","B","K"," "," "," "," "," "," ","K","B"," "," "," "," ","B","B"," "," "," "," "," "," ","B"],["B"," "," "," "," "," "," "," "," "," "," "," "," ","B","B"," "," "," "," "," "," ","B","B"," "," "," "," "," ","B","B","B"," "," "," ","4","B"],["B"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","B"],["B"," "," "," "," "," ","1"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","B"],["B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B"]],{x:2,y:5},{x:0,y:-9}],[[["B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B"],["B"," "," ","B"," "," "," "," "," "," "," "," ","B"," "," "," "," "," "," "," ","B","B","B"," "," "," "," "," "," "," "," "," ","B","B"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","B","B"," "," "," "," ","B"," "," "," "," "," ","B"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","B"],["B"," "," ","B"," "," "," "," "," "," "," "," ","B"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","B","2"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","B"," "," "," "," ","B"," "," ","L"," "," ","B"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","B"],["B"," "," ","B"," "," ","B"," "," "," "," "," ","B"," "," "," "," "," "," "," "," ","K"," "," "," "," "," "," "," "," "," "," ","B"," "," "," "," "," "," "," "," "," "," ","C"," "," "," "," "," "," "," "," "," ","B"," "," "," "," ","B"," "," ","B"," "," ","B"," "," ","B"," "," "," "," "," "," "," "," "," ","B"," "," "," "," "," "," "," "," ","K","B"],["B"," "," ","3"," "," ","B"," "," "," "," "," ","B"," "," ","B","B","B"," "," ","B","B","B"," "," ","B","B","B"," "," "," "," ","B"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","B"," "," "," "," ","B"," "," ","B"," "," ","B"," "," ","B"," "," "," "," "," "," ","B","K"," ","B"," ","K","B"," "," "," "," ","B","B","B"],["B"," "," "," "," "," ","B"," "," "," "," "," "," "," "," ","B"," "," "," "," "," ","B"," "," "," "," "," ","B"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","B"," "," "," "," "," ","B"," "," "," "," ","B","1","B"," "," ","C"," "," ","B","1","B"," "," ","D"," ","B"],["B"," "," "," "," "," ","B"," ","1"," "," "," "," "," "," ","B"," "," ","1"," "," "," "," ","1"," "," "," ","B"," "," "," "," "," "," "," "," "," "," ","1"," "," ","1"," "," "," ","1"," "," "," ","1"," "," "," "," "," "," "," "," ","K"," "," ","B"," "," ","K"," "," ","B"," "," "," "," ","B","B","B"," "," "," "," "," ","B","B","B"," "," "," "," ","B"],["B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B"]],{x:2,y:3},{x:0,y:0}]],ballX,ballY,gameX,gameY,containerDimentions,gameDimentions,ballDimentions,level=levels[updateLevel],f=!1,g=!1,updateLevelFunction=()=>{f=!1,bricksDimentions=[],thronesDimentions=[],lifeBallDimentions=[],gameChildrenDimentions=[],checkpointDimentions=[],keyDimentions=[],doorDimentions=[],keyCount=0,lifeCount=3,game.innerHTML="",ballX=50*(level=levels[updateLevel]?levels[updateLevel]:levels[updateLevel=0])[1].x,ballY=50*level[1].y,gameX=50*level[2].x,gameY=50*level[2].y;for(let i=0;i<level[0].length;i++)for(let n=0;n<level[0][0].length;n++)if("B"==level[0][i][n]){var t=document.createElement("img");t.setAttribute("src","./images/brick.png"),t.setAttribute("style",`top: ${50*i}px;left: ${50*n}px;height: 50px;width: 50px`),game.appendChild(t)}else if("1"==level[0][i][n]){var t=document.createElement("img");t.setAttribute("src","./images/thorn.png"),t.setAttribute("style",`top: ${50*i}px;left: ${50*n+12}px;height: 50px;width: 26px`),game.appendChild(t)}else if("2"==level[0][i][n]){var t=document.createElement("img");t.setAttribute("src","./images/thorn_rotated.png"),t.setAttribute("style",`top: ${50*i+12}px;left: ${50*n}px;height: 26px;width: 50px;`),game.appendChild(t)}else if("3"==level[0][i][n]){var t=document.createElement("img");t.setAttribute("src","./images/thorn.png"),t.setAttribute("style",`top: ${50*i}px;left: ${50*n+12}px;height: 50px;width: 26px;transform:rotate(180deg)`),game.appendChild(t)}else if("4"==level[0][i][n]){var t=document.createElement("img");t.setAttribute("src","./images/thorn_rotated.png"),t.setAttribute("style",`top: ${50*i+12}px;left: ${50*n}px;height: 26px;width: 50px;transform:rotate(180deg)`),game.appendChild(t)}else if("L"==level[0][i][n]){var t=document.createElement("img");t.setAttribute("src","./images/life.png"),t.setAttribute("style",`top: ${50*i+3}px;left: ${50*n+3}px;height: 44px;width: 44px`),game.appendChild(t)}else if("C"==level[0][i][n]){var t=document.createElement("img");t.setAttribute("src","./images/checkpoint.png"),t.setAttribute("style",`top: ${50*i}px;left: ${50*n}px;height: 50px;width: 50px`),game.appendChild(t)}else if("K"==level[0][i][n]){var t=document.createElement("img");t.setAttribute("src","./images/key.gif"),t.setAttribute("style",`top: ${50*i}px;left: ${50*n}px;height: 50px;width: 50px`),game.appendChild(t),keyCount++}else if("D"==level[0][i][n]){var t=document.createElement("img");t.setAttribute("src","./images/door.png"),t.setAttribute("style",`top: ${50*i}px;left: ${50*n}px;height: 100px;width: 100px`),game.appendChild(t)}let o=game.children;for(let l=0;l<o.length;l++)"./images/brick.png"==game.children[l].getAttribute("src")?bricksDimentions.push(new Dimentions(o[l])):"./images/thorn.png"==game.children[l].getAttribute("src")||"./images/thorn_rotated.png"==game.children[l].getAttribute("src")?thronesDimentions.push(new Dimentions(o[l])):"./images/life.png"==game.children[l].getAttribute("src")?lifeBallDimentions.push(new Dimentions(o[l])):"./images/checkpoint.png"==game.children[l].getAttribute("src")?checkpointDimentions.push(new Dimentions(o[l])):"./images/key.gif"==game.children[l].getAttribute("src")?keyDimentions.push(new Dimentions(o[l])):"./images/door.png"==game.children[l].getAttribute("src")&&doorDimentions.push(new Dimentions(o[l])),gameChildrenDimentions.push(new Dimentions(o[l]));let m=900,s=400;container.style.width=`${m}px`,container.style.height=`${s}px`,containerDimentions=new Dimentions(container),container.style.transform=`translateX(${body.clientWidth/2-container.clientWidth/2}px) translateY(${body.clientHeight/2-container.clientHeight/2}px)`,ball.style.left=ballX+"px",ball.style.top=ballY+"px",game.style.left=gameX+"px",game.style.top=gameY+"px",game.style.height=`${50*level[0].length}px`,game.style.width=`${50*level[0][0].length}px`,gameDimentions=new Dimentions(game),ball.style.width="50px",checkPoint={x:(ballDimentions=new Dimentions(ball)).point1.x-gameDimentions.point1.x,y:ballDimentions.point1.y-gameDimentions.point1.y},lives.innerHTML="";for(let r=0;r<lifeCount;r++){var t=document.createElement("img");t.setAttribute("src","./images/ball_small.png"),t.setAttribute("style",`top: ${50*r}px;left: 50px;`),lives.appendChild(t)}},e=!0,checkPoint;const updateDimentions=()=>{ballDimentions=new Dimentions(ball),containerDimentions=new Dimentions(container),gameDimentions=new Dimentions(game),!0==e&&(checkPoint={x:ballDimentions.point1.x-gameDimentions.point1.x,y:ballDimentions.point1.y-gameDimentions.point1.y},e=!1)};updateLevelFunction();let then=Date.now(),fps=60,direction,gameSpeed=10,ballSpeed=1,ballRotate=0,ballRotateSpeed=1,gameLoopPlay=!0,a=!1,b=!1,c=!1,d=!1,checkForChangeInUpdateLevel=updateLevel;const animate=()=>{let i=Date.now();if(i-then>1e3/fps){if(gameLoopPlay)for(let n=0;n<gameSpeed;n++){if(checkForChangeInUpdateLevel!=updateLevel&&(checkForChangeInUpdateLevel=updateLevel,updateLevelFunction()),ball.style.left=ballX+"px",ball.style.top=ballY+"px",game.style.left=gameX+"px",game.style.top=gameY+"px",updateDimentions(),checkForDirection(),0==keyCount&&!f){for(let t=0;t<game.children.length;t++)"./images/door.png"==game.children[t].getAttribute("src")&&game.children[t].setAttribute("src","./images/door_open.png");f=!0}"backword"==direction?backwordMotion():"forward"==direction?forwordMotion():"downward"==direction?downwordMotion():"upward"==direction?upWordMotion():"downward forward"==direction?a?a&&(forwordMotion(),forwordMotion(),a=!1):(downwordMotion(),downwordMotion(),a=!0):"downward backward"==direction?b?b&&(backwordMotion(),backwordMotion(),b=!1):(downwordMotion(),downwordMotion(),b=!0):"upward forward"==direction?c?c&&(forwordMotion(),forwordMotion(),c=!1):(upWordMotion(),upWordMotion(),c=!0):"upward backword"==direction&&(d?d&&(backwordMotion(),backwordMotion(),d=!1):(upWordMotion(),upWordMotion(),d=!0))}then=i}requestAnimationFrame(animate)};animate();let timeForMotionThen=Date.now();const upWordMotion=()=>{let i=0,n=!1,t=!1,o=!1,l=!1,m=!1;if(ballDimentions.point1.y>containerDimentions.point1.y){for(let s=0;s<bricksDimentions.length;s++)ballDimentions.point2.x>bricksDimentions[s].point1.x+gameDimentions.point1.x&&ballDimentions.point1.x<bricksDimentions[s].point2.x+gameDimentions.point1.x&&ballDimentions.point3.y>bricksDimentions[s].point1.y+gameDimentions.point1.y&&ballDimentions.point1.y<=bricksDimentions[s].point3.y+gameDimentions.point1.y&&i++;for(let r=0;r<thronesDimentions.length;r++)ballDimentions.point2.x>thronesDimentions[r].point1.x+gameDimentions.point1.x&&ballDimentions.point1.x<thronesDimentions[r].point2.x+gameDimentions.point1.x&&ballDimentions.point3.y>thronesDimentions[r].point1.y+gameDimentions.point1.y&&ballDimentions.point1.y<thronesDimentions[r].point3.y+gameDimentions.point1.y&&(n=r);for(let p=0;p<lifeBallDimentions.length;p++)ballDimentions.point2.x>lifeBallDimentions[p].point1.x+gameDimentions.point1.x&&ballDimentions.point1.x<lifeBallDimentions[p].point2.x+gameDimentions.point1.x&&ballDimentions.point3.y>lifeBallDimentions[p].point1.y+gameDimentions.point1.y&&ballDimentions.point1.y<=lifeBallDimentions[p].point3.y+gameDimentions.point1.y&&(t=p);for(let B=0;B<checkpointDimentions.length;B++)ballDimentions.point2.x>checkpointDimentions[B].point1.x+gameDimentions.point1.x&&ballDimentions.point1.x<checkpointDimentions[B].point2.x+gameDimentions.point1.x&&ballDimentions.point3.y>checkpointDimentions[B].point1.y+gameDimentions.point1.y&&ballDimentions.point1.y<=checkpointDimentions[B].point3.y+gameDimentions.point1.y&&(o=B);for(let D=0;D<keyDimentions.length;D++)ballDimentions.point2.x>keyDimentions[D].point1.x+gameDimentions.point1.x&&ballDimentions.point1.x<keyDimentions[D].point2.x+gameDimentions.point1.x&&ballDimentions.point3.y>keyDimentions[D].point1.y+gameDimentions.point1.y&&ballDimentions.point1.y<=keyDimentions[D].point3.y+gameDimentions.point1.y&&(l=D);for(let h=0;h<doorDimentions.length;h++)ballDimentions.point2.x>doorDimentions[h].point1.x+gameDimentions.point1.x&&ballDimentions.point1.x<doorDimentions[h].point2.x+gameDimentions.point1.x&&ballDimentions.point3.y>doorDimentions[h].point1.y+gameDimentions.point1.y&&ballDimentions.point1.y<=doorDimentions[h].point3.y+gameDimentions.point1.y&&(m=h);if(n>=0){for(let y=0;y<game.children.length;y++)if(JSON.stringify(gameChildrenDimentions[y])==JSON.stringify(thronesDimentions[n])){if(lifeCount<=0)out.play(),ballRotate=0,ball.style.transform="rotate(0deg)",ball.setAttribute("src","./images/ball_pop.png"),gameLoopPlay=!1,setTimeout(()=>{updateLevelFunction(),updateLevel=0,gameLoopPlay=!0},500);else{let _=Date.now();_-timeForMotionThen>500&&(lifeCount--,timeForMotionThen=_),lives.innerHTML="";for(let x=0;x<lifeCount;x++){var $=document.createElement("img");$.setAttribute("src","./images/ball_small.png"),$.setAttribute("style",`top: ${50*x}px;left: 50px;`),lives.appendChild($)}out.play(),ballRotate=0,ball.style.transform="rotate(0deg)",ball.setAttribute("src","./images/ball_pop.png"),gameLoopPlay=!1,setTimeout(()=>{let i=-checkPoint.x+containerDimentions.width/2-25,n=-checkPoint.y+containerDimentions.height/2-25;i<=containerDimentions.point1.x&&n<=containerDimentions.point1.y&&i+gameDimentions.width>=containerDimentions.point3.x&&n+gameDimentions.height>=containerDimentions.point3.y?(gameLoopPlay=!0,ball.setAttribute("src","./images/ball_small.png"),gameX=-checkPoint.x+containerDimentions.width/2-25,gameY=-checkPoint.y+containerDimentions.height/2-25,ballY=containerDimentions.height/2-25,ballX=containerDimentions.width/2-25):i<=containerDimentions.point1.x&&n>containerDimentions.point1.y&&i+gameDimentions.width>=containerDimentions.point3.x&&n+gameDimentions.height>=containerDimentions.point3.y?(gameLoopPlay=!0,ball.setAttribute("src","./images/ball_small.png"),gameX=-checkPoint.x+containerDimentions.width/2-25,gameY=0,ballX=containerDimentions.width/2-25,ballY=checkPoint.y):i>containerDimentions.point1.x&&n<=containerDimentions.point1.y&&i+gameDimentions.width>=containerDimentions.point3.x&&n+gameDimentions.height>=containerDimentions.point3.y?(gameLoopPlay=!0,ball.setAttribute("src","./images/ball_small.png"),gameX=0,gameY=-checkPoint.y+containerDimentions.height/2-25,ballX=checkPoint.x,ballY=containerDimentions.height/2-25):i>containerDimentions.point1.x&&n>containerDimentions.point1.y?(gameLoopPlay=!0,ball.setAttribute("src","./images/ball_small.png"),gameX=0,gameY=0,ballX=checkPoint.x,ballY=checkPoint.y):i<=containerDimentions.point1.x&&n<=containerDimentions.point1.y&&i+gameDimentions.width<containerDimentions.point3.x&&n+gameDimentions.height>=containerDimentions.point3.y?(gameLoopPlay=!0,ball.setAttribute("src","./images/ball_small.png"),gameX=-gameDimentions.width+containerDimentions.width,gameY=-checkPoint.y+containerDimentions.height/2-25,ballX=checkPoint.x-gameDimentions.width+containerDimentions.width,ballY=containerDimentions.height/2-25):i<=containerDimentions.point1.x&&n<=containerDimentions.point1.y&&i+gameDimentions.width>=containerDimentions.point3.x&&n+gameDimentions.height<containerDimentions.point3.y?(gameLoopPlay=!0,ball.setAttribute("src","./images/ball_small.png"),gameY=-gameDimentions.height+containerDimentions.height,gameX=-checkPoint.x+containerDimentions.width/2-25,ballY=checkPoint.y-gameDimentions.height+containerDimentions.height,ballX=containerDimentions.width/2-25):i<=containerDimentions.point1.x&&n<=containerDimentions.point1.y?(gameLoopPlay=!0,ball.setAttribute("src","./images/ball_small.png"),gameX=-gameDimentions.width+containerDimentions.width,gameY=-gameDimentions.height+containerDimentions.height,ballX=checkPoint.x-gameDimentions.width+containerDimentions.width,ballY=checkPoint.y-gameDimentions.height+containerDimentions.height):i>containerDimentions.point1.x?(gameLoopPlay=!0,ball.setAttribute("src","./images/ball_small.png"),gameX=0,gameY=-gameDimentions.height+containerDimentions.height,ballX=checkPoint.x,ballY=checkPoint.y-gameDimentions.height+containerDimentions.height):i<=containerDimentions.point1.x&&(gameLoopPlay=!0,gameX=-gameDimentions.width+containerDimentions.width,gameY=0,ballX=checkPoint.x-gameDimentions.width+containerDimentions.width,ballY=checkPoint.y,ball.setAttribute("src","./images/ball_small.png"))},500)}}}if(t>=0){for(let k=0;k<game.children.length;k++)JSON.stringify(gameChildrenDimentions[k])==JSON.stringify(lifeBallDimentions[t])&&"none"!=game.children[k].style.display&&(game.children[k].style.display="none",bounty.play(),lifeCount++);lives.innerHTML="";for(let u=0;u<lifeCount;u++){var $=document.createElement("img");$.setAttribute("src","./images/ball_small.png"),$.setAttribute("style",`top: ${50*u}px;left: 50px;`),lives.appendChild($)}}if(l>=0)for(let w=0;w<game.children.length;w++)JSON.stringify(gameChildrenDimentions[w])==JSON.stringify(keyDimentions[l])&&"none"!=game.children[w].style.display&&(game.children[w].style.display="none",ring.play(),keyCount--);if(m>=0)for(let P=0;P<game.children.length;P++)"./images/door_open.png"==game.children[P].getAttribute("src")&&"none"!=game.children[P].style.display&&JSON.stringify(gameChildrenDimentions[P])==JSON.stringify(doorDimentions[m])&&(bounty.play(),updateLevel++,game.children[P].style.display="none");if(o>=0)for(let A=0;A<game.children.length;A++)JSON.stringify(gameChildrenDimentions[A])==JSON.stringify(checkpointDimentions[o])&&"./images/checkpoint.png"==game.children[A].getAttribute("src")&&(bounty.play(),game.children[A].setAttribute("src","./images/checkpoint_catched.png"),checkPoint.x=checkpointDimentions[o].point1.x,checkPoint.y=checkpointDimentions[o].point1.y);0==i?gameDimentions.point1.y>=containerDimentions.point1.y?ballY-=ballSpeed:ballY>containerDimentions.height/2-ballDimentions.height/2?ballY-=ballSpeed:gameY+=ballSpeed:i=0}},downwordMotion=()=>{let i=0,n=!1,t=!1,o=!1,l=!1,m=!1;if(ballDimentions.point4.y<containerDimentions.point4.y){for(let s=0;s<bricksDimentions.length;s++)ballDimentions.point2.x>bricksDimentions[s].point1.x+gameDimentions.point1.x&&ballDimentions.point1.x<bricksDimentions[s].point2.x+gameDimentions.point1.x&&ballDimentions.point3.y>=bricksDimentions[s].point1.y+gameDimentions.point1.y&&ballDimentions.point1.y<bricksDimentions[s].point3.y+gameDimentions.point1.y&&i++;for(let r=0;r<thronesDimentions.length;r++)ballDimentions.point2.x>thronesDimentions[r].point1.x+gameDimentions.point1.x&&ballDimentions.point1.x<thronesDimentions[r].point2.x+gameDimentions.point1.x&&ballDimentions.point3.y>thronesDimentions[r].point1.y+gameDimentions.point1.y&&ballDimentions.point1.y<thronesDimentions[r].point3.y+gameDimentions.point1.y&&(n=r);for(let p=0;p<lifeBallDimentions.length;p++)ballDimentions.point2.x>lifeBallDimentions[p].point1.x+gameDimentions.point1.x&&ballDimentions.point1.x<lifeBallDimentions[p].point2.x+gameDimentions.point1.x&&ballDimentions.point3.y>lifeBallDimentions[p].point1.y+gameDimentions.point1.y&&ballDimentions.point1.y<=lifeBallDimentions[p].point3.y+gameDimentions.point1.y&&(t=p);for(let B=0;B<checkpointDimentions.length;B++)ballDimentions.point2.x>checkpointDimentions[B].point1.x+gameDimentions.point1.x&&ballDimentions.point1.x<checkpointDimentions[B].point2.x+gameDimentions.point1.x&&ballDimentions.point3.y>checkpointDimentions[B].point1.y+gameDimentions.point1.y&&ballDimentions.point1.y<=checkpointDimentions[B].point3.y+gameDimentions.point1.y&&(o=B);for(let D=0;D<keyDimentions.length;D++)ballDimentions.point2.x>keyDimentions[D].point1.x+gameDimentions.point1.x&&ballDimentions.point1.x<keyDimentions[D].point2.x+gameDimentions.point1.x&&ballDimentions.point3.y>keyDimentions[D].point1.y+gameDimentions.point1.y&&ballDimentions.point1.y<=keyDimentions[D].point3.y+gameDimentions.point1.y&&(l=D);for(let h=0;h<doorDimentions.length;h++)ballDimentions.point2.x>doorDimentions[h].point1.x+gameDimentions.point1.x&&ballDimentions.point1.x<doorDimentions[h].point2.x+gameDimentions.point1.x&&ballDimentions.point3.y>doorDimentions[h].point1.y+gameDimentions.point1.y&&ballDimentions.point1.y<=doorDimentions[h].point3.y+gameDimentions.point1.y&&(m=h);if(n>=0){for(let y=0;y<game.children.length;y++)if(JSON.stringify(gameChildrenDimentions[y])==JSON.stringify(thronesDimentions[n])){if(lifeCount<=0)out.play(),ballRotate=0,ball.style.transform="rotate(0deg)",ball.setAttribute("src","./images/ball_pop.png"),gameLoopPlay=!1,setTimeout(()=>{updateLevelFunction(),updateLevel=0,gameLoopPlay=!0},500);else{let _=Date.now();_-timeForMotionThen>500&&(lifeCount--,timeForMotionThen=_),lives.innerHTML="";for(let x=0;x<lifeCount;x++){var $=document.createElement("img");$.setAttribute("src","./images/ball_small.png"),$.setAttribute("style",`top: ${50*x}px;left: 50px;`),lives.appendChild($)}out.play(),ballRotate=0,ball.style.transform="rotate(0deg)",ball.setAttribute("src","./images/ball_pop.png"),gameLoopPlay=!1,setTimeout(()=>{let i=-checkPoint.x+containerDimentions.width/2-25,n=-checkPoint.y+containerDimentions.height/2-25;i<=containerDimentions.point1.x&&n<=containerDimentions.point1.y&&i+gameDimentions.width>=containerDimentions.point3.x&&n+gameDimentions.height>=containerDimentions.point3.y?(gameLoopPlay=!0,ball.setAttribute("src","./images/ball_small.png"),gameX=-checkPoint.x+containerDimentions.width/2-25,gameY=-checkPoint.y+containerDimentions.height/2-25,ballY=containerDimentions.height/2-25,ballX=containerDimentions.width/2-25):i<=containerDimentions.point1.x&&n>containerDimentions.point1.y&&i+gameDimentions.width>=containerDimentions.point3.x&&n+gameDimentions.height>=containerDimentions.point3.y?(gameLoopPlay=!0,ball.setAttribute("src","./images/ball_small.png"),gameX=-checkPoint.x+containerDimentions.width/2-25,gameY=0,ballX=containerDimentions.width/2-25,ballY=checkPoint.y):i>containerDimentions.point1.x&&n<=containerDimentions.point1.y&&i+gameDimentions.width>=containerDimentions.point3.x&&n+gameDimentions.height>=containerDimentions.point3.y?(gameLoopPlay=!0,ball.setAttribute("src","./images/ball_small.png"),gameX=0,gameY=-checkPoint.y+containerDimentions.height/2-25,ballX=checkPoint.x,ballY=containerDimentions.height/2-25):i>containerDimentions.point1.x&&n>containerDimentions.point1.y?(gameLoopPlay=!0,ball.setAttribute("src","./images/ball_small.png"),gameX=0,gameY=0,ballX=checkPoint.x,ballY=checkPoint.y):i<=containerDimentions.point1.x&&n<=containerDimentions.point1.y&&i+gameDimentions.width<containerDimentions.point3.x&&n+gameDimentions.height>=containerDimentions.point3.y?(gameLoopPlay=!0,ball.setAttribute("src","./images/ball_small.png"),gameX=-gameDimentions.width+containerDimentions.width,gameY=-checkPoint.y+containerDimentions.height/2-25,ballX=checkPoint.x-gameDimentions.width+containerDimentions.width,ballY=containerDimentions.height/2-25):i<=containerDimentions.point1.x&&n<=containerDimentions.point1.y&&i+gameDimentions.width>=containerDimentions.point3.x&&n+gameDimentions.height<containerDimentions.point3.y?(gameLoopPlay=!0,ball.setAttribute("src","./images/ball_small.png"),gameY=-gameDimentions.height+containerDimentions.height,gameX=-checkPoint.x+containerDimentions.width/2-25,ballY=checkPoint.y-gameDimentions.height+containerDimentions.height,ballX=containerDimentions.width/2-25):i<=containerDimentions.point1.x&&n<=containerDimentions.point1.y?(gameLoopPlay=!0,ball.setAttribute("src","./images/ball_small.png"),gameX=-gameDimentions.width+containerDimentions.width,gameY=-gameDimentions.height+containerDimentions.height,ballX=checkPoint.x-gameDimentions.width+containerDimentions.width,ballY=checkPoint.y-gameDimentions.height+containerDimentions.height):i>containerDimentions.point1.x?(gameLoopPlay=!0,ball.setAttribute("src","./images/ball_small.png"),gameX=0,gameY=-gameDimentions.height+containerDimentions.height,ballX=checkPoint.x,ballY=checkPoint.y-gameDimentions.height+containerDimentions.height):i<=containerDimentions.point1.x&&(gameLoopPlay=!0,gameX=-gameDimentions.width+containerDimentions.width,gameY=0,ballX=checkPoint.x-gameDimentions.width+containerDimentions.width,ballY=checkPoint.y,ball.setAttribute("src","./images/ball_small.png"))},500)}}}if(t>=0){for(let k=0;k<game.children.length;k++)JSON.stringify(gameChildrenDimentions[k])==JSON.stringify(lifeBallDimentions[t])&&"none"!=game.children[k].style.display&&(game.children[k].style.display="none",bounty.play(),lifeCount++);lives.innerHTML="";for(let u=0;u<lifeCount;u++){var $=document.createElement("img");$.setAttribute("src","./images/ball_small.png"),$.setAttribute("style",`top: ${50*u}px;left: 50px;`),lives.appendChild($)}}if(l>=0)for(let w=0;w<game.children.length;w++)JSON.stringify(gameChildrenDimentions[w])==JSON.stringify(keyDimentions[l])&&"none"!=game.children[w].style.display&&(game.children[w].style.display="none",ring.play(),keyCount--);if(m>=0)for(let P=0;P<game.children.length;P++)"./images/door_open.png"==game.children[P].getAttribute("src")&&"none"!=game.children[P].style.display&&JSON.stringify(gameChildrenDimentions[P])==JSON.stringify(doorDimentions[m])&&(bounty.play(),updateLevel++,game.children[P].style.display="none");if(o>=0)for(let A=0;A<game.children.length;A++)JSON.stringify(gameChildrenDimentions[A])==JSON.stringify(checkpointDimentions[o])&&"./images/checkpoint.png"==game.children[A].getAttribute("src")&&(bounty.play(),game.children[A].setAttribute("src","./images/checkpoint_catched.png"),checkPoint.x=checkpointDimentions[o].point1.x,checkPoint.y=checkpointDimentions[o].point1.y);0==i?gameDimentions.point4.y<=containerDimentions.point4.y?ballY+=ballSpeed:ballY<containerDimentions.height/2-ballDimentions.height/2?ballY+=ballSpeed:gameY-=ballSpeed:(i=0,g=!1)}},forwordMotion=()=>{ball.style.transform=`rotate(${ballRotate}deg)`;let i=0,n=!1,t=!1,o=!1,l=!1,m=!1;if(ballDimentions.point2.x<containerDimentions.point2.x){for(let s=0;s<bricksDimentions.length;s++)ballDimentions.point2.x>=bricksDimentions[s].point1.x+gameDimentions.point1.x&&ballDimentions.point1.x<bricksDimentions[s].point2.x+gameDimentions.point1.x&&ballDimentions.point3.y>bricksDimentions[s].point1.y+gameDimentions.point1.y&&ballDimentions.point1.y<bricksDimentions[s].point3.y+gameDimentions.point1.y&&i++;for(let r=0;r<thronesDimentions.length;r++)ballDimentions.point2.x>thronesDimentions[r].point1.x+gameDimentions.point1.x&&ballDimentions.point1.x<thronesDimentions[r].point2.x+gameDimentions.point1.x&&ballDimentions.point3.y>thronesDimentions[r].point1.y+gameDimentions.point1.y&&ballDimentions.point1.y<thronesDimentions[r].point3.y+gameDimentions.point1.y&&(n=r);for(let p=0;p<lifeBallDimentions.length;p++)ballDimentions.point2.x>lifeBallDimentions[p].point1.x+gameDimentions.point1.x&&ballDimentions.point1.x<lifeBallDimentions[p].point2.x+gameDimentions.point1.x&&ballDimentions.point3.y>lifeBallDimentions[p].point1.y+gameDimentions.point1.y&&ballDimentions.point1.y<=lifeBallDimentions[p].point3.y+gameDimentions.point1.y&&(t=p);for(let B=0;B<checkpointDimentions.length;B++)ballDimentions.point2.x>checkpointDimentions[B].point1.x+gameDimentions.point1.x&&ballDimentions.point1.x<checkpointDimentions[B].point2.x+gameDimentions.point1.x&&ballDimentions.point3.y>checkpointDimentions[B].point1.y+gameDimentions.point1.y&&ballDimentions.point1.y<=checkpointDimentions[B].point3.y+gameDimentions.point1.y&&(o=B);for(let D=0;D<keyDimentions.length;D++)ballDimentions.point2.x>keyDimentions[D].point1.x+gameDimentions.point1.x&&ballDimentions.point1.x<keyDimentions[D].point2.x+gameDimentions.point1.x&&ballDimentions.point3.y>keyDimentions[D].point1.y+gameDimentions.point1.y&&ballDimentions.point1.y<=keyDimentions[D].point3.y+gameDimentions.point1.y&&(l=D);for(let h=0;h<doorDimentions.length;h++)ballDimentions.point2.x>doorDimentions[h].point1.x+gameDimentions.point1.x&&ballDimentions.point1.x<doorDimentions[h].point2.x+gameDimentions.point1.x&&ballDimentions.point3.y>doorDimentions[h].point1.y+gameDimentions.point1.y&&ballDimentions.point1.y<=doorDimentions[h].point3.y+gameDimentions.point1.y&&(m=h);if(n>=0){for(let y=0;y<game.children.length;y++)if(JSON.stringify(gameChildrenDimentions[y])==JSON.stringify(thronesDimentions[n])){if(lifeCount<=0)out.play(),ballRotate=0,ball.style.transform="rotate(0deg)",ball.setAttribute("src","./images/ball_pop.png"),gameLoopPlay=!1,setTimeout(()=>{updateLevelFunction(),updateLevel=0,gameLoopPlay=!0},500);else{let _=Date.now();_-timeForMotionThen>500&&(lifeCount--,timeForMotionThen=_),lives.innerHTML="";for(let x=0;x<lifeCount;x++){var $=document.createElement("img");$.setAttribute("src","./images/ball_small.png"),$.setAttribute("style",`top: ${50*x}px;left: 50px;`),lives.appendChild($)}out.play(),ballRotate=0,ball.style.transform="rotate(0deg)",ball.setAttribute("src","./images/ball_pop.png"),gameLoopPlay=!1,setTimeout(()=>{let i=-checkPoint.x+containerDimentions.width/2-25,n=-checkPoint.y+containerDimentions.height/2-25;i<=containerDimentions.point1.x&&n<=containerDimentions.point1.y&&i+gameDimentions.width>=containerDimentions.point3.x&&n+gameDimentions.height>=containerDimentions.point3.y?(gameLoopPlay=!0,ball.setAttribute("src","./images/ball_small.png"),gameX=-checkPoint.x+containerDimentions.width/2-25,gameY=-checkPoint.y+containerDimentions.height/2-25,ballY=containerDimentions.height/2-25,ballX=containerDimentions.width/2-25):i<=containerDimentions.point1.x&&n>containerDimentions.point1.y&&i+gameDimentions.width>=containerDimentions.point3.x&&n+gameDimentions.height>=containerDimentions.point3.y?(gameLoopPlay=!0,ball.setAttribute("src","./images/ball_small.png"),gameX=-checkPoint.x+containerDimentions.width/2-25,gameY=0,ballX=containerDimentions.width/2-25,ballY=checkPoint.y):i>containerDimentions.point1.x&&n<=containerDimentions.point1.y&&i+gameDimentions.width>=containerDimentions.point3.x&&n+gameDimentions.height>=containerDimentions.point3.y?(gameLoopPlay=!0,ball.setAttribute("src","./images/ball_small.png"),gameX=0,gameY=-checkPoint.y+containerDimentions.height/2-25,ballX=checkPoint.x,ballY=containerDimentions.height/2-25):i>containerDimentions.point1.x&&n>containerDimentions.point1.y?(gameLoopPlay=!0,ball.setAttribute("src","./images/ball_small.png"),gameX=0,gameY=0,ballX=checkPoint.x,ballY=checkPoint.y):i<=containerDimentions.point1.x&&n<=containerDimentions.point1.y&&i+gameDimentions.width<containerDimentions.point3.x&&n+gameDimentions.height>=containerDimentions.point3.y?(gameLoopPlay=!0,ball.setAttribute("src","./images/ball_small.png"),gameX=-gameDimentions.width+containerDimentions.width,gameY=-checkPoint.y+containerDimentions.height/2-25,ballX=checkPoint.x-gameDimentions.width+containerDimentions.width,ballY=containerDimentions.height/2-25):i<=containerDimentions.point1.x&&n<=containerDimentions.point1.y&&i+gameDimentions.width>=containerDimentions.point3.x&&n+gameDimentions.height<containerDimentions.point3.y?(gameLoopPlay=!0,ball.setAttribute("src","./images/ball_small.png"),gameY=-gameDimentions.height+containerDimentions.height,gameX=-checkPoint.x+containerDimentions.width/2-25,ballY=checkPoint.y-gameDimentions.height+containerDimentions.height,ballX=containerDimentions.width/2-25):i<=containerDimentions.point1.x&&n<=containerDimentions.point1.y?(gameLoopPlay=!0,ball.setAttribute("src","./images/ball_small.png"),gameX=-gameDimentions.width+containerDimentions.width,gameY=-gameDimentions.height+containerDimentions.height,ballX=checkPoint.x-gameDimentions.width+containerDimentions.width,ballY=checkPoint.y-gameDimentions.height+containerDimentions.height):i>containerDimentions.point1.x?(gameLoopPlay=!0,ball.setAttribute("src","./images/ball_small.png"),gameX=0,gameY=-gameDimentions.height+containerDimentions.height,ballX=checkPoint.x,ballY=checkPoint.y-gameDimentions.height+containerDimentions.height):i<=containerDimentions.point1.x&&(gameLoopPlay=!0,gameX=-gameDimentions.width+containerDimentions.width,gameY=0,ballX=checkPoint.x-gameDimentions.width+containerDimentions.width,ballY=checkPoint.y,ball.setAttribute("src","./images/ball_small.png"))},500)}}}if(t>=0){for(let k=0;k<game.children.length;k++)JSON.stringify(gameChildrenDimentions[k])==JSON.stringify(lifeBallDimentions[t])&&"none"!=game.children[k].style.display&&(game.children[k].style.display="none",bounty.play(),lifeCount++);lives.innerHTML="";for(let u=0;u<lifeCount;u++){var $=document.createElement("img");$.setAttribute("src","./images/ball_small.png"),$.setAttribute("style",`top: ${50*u}px;left: 50px;`),lives.appendChild($)}}if(l>=0)for(let w=0;w<game.children.length;w++)JSON.stringify(gameChildrenDimentions[w])==JSON.stringify(keyDimentions[l])&&"none"!=game.children[w].style.display&&(game.children[w].style.display="none",ring.play(),keyCount--);if(m>=0)for(let P=0;P<game.children.length;P++)"./images/door_open.png"==game.children[P].getAttribute("src")&&"none"!=game.children[P].style.display&&JSON.stringify(gameChildrenDimentions[P])==JSON.stringify(doorDimentions[m])&&(bounty.play(),updateLevel++,game.children[P].style.display="none");if(o>=0)for(let A=0;A<game.children.length;A++)JSON.stringify(gameChildrenDimentions[A])==JSON.stringify(checkpointDimentions[o])&&"./images/checkpoint.png"==game.children[A].getAttribute("src")&&(bounty.play(),game.children[A].setAttribute("src","./images/checkpoint_catched.png"),checkPoint.x=checkpointDimentions[o].point1.x,checkPoint.y=checkpointDimentions[o].point1.y);0==i?gameDimentions.point2.x<=containerDimentions.point2.x?(ballX+=ballSpeed,ballRotate+=ballRotateSpeed):ballX<containerDimentions.width/2-ballDimentions.width/2?(ballX+=ballSpeed,ballRotate+=ballRotateSpeed):(gameX-=ballSpeed,ballRotate+=ballRotateSpeed):i=0}},backwordMotion=()=>{ball.style.transform=`rotate(${ballRotate}deg)`;let i=0,n=!1,t=!1,o=!1,l=!1,m=!1;if(ballDimentions.point1.x>containerDimentions.point1.x){for(let s=0;s<bricksDimentions.length;s++)ballDimentions.point2.x>bricksDimentions[s].point1.x+gameDimentions.point1.x&&ballDimentions.point1.x<=bricksDimentions[s].point2.x+gameDimentions.point1.x&&ballDimentions.point3.y>bricksDimentions[s].point1.y+gameDimentions.point1.y&&ballDimentions.point1.y<bricksDimentions[s].point3.y+gameDimentions.point1.y&&i++;for(let r=0;r<thronesDimentions.length;r++)ballDimentions.point2.x>thronesDimentions[r].point1.x+gameDimentions.point1.x&&ballDimentions.point1.x<thronesDimentions[r].point2.x+gameDimentions.point1.x&&ballDimentions.point3.y>thronesDimentions[r].point1.y+gameDimentions.point1.y&&ballDimentions.point1.y<thronesDimentions[r].point3.y+gameDimentions.point1.y&&(n=r);for(let p=0;p<lifeBallDimentions.length;p++)ballDimentions.point2.x>lifeBallDimentions[p].point1.x+gameDimentions.point1.x&&ballDimentions.point1.x<lifeBallDimentions[p].point2.x+gameDimentions.point1.x&&ballDimentions.point3.y>lifeBallDimentions[p].point1.y+gameDimentions.point1.y&&ballDimentions.point1.y<=lifeBallDimentions[p].point3.y+gameDimentions.point1.y&&(t=p);for(let B=0;B<checkpointDimentions.length;B++)ballDimentions.point2.x>checkpointDimentions[B].point1.x+gameDimentions.point1.x&&ballDimentions.point1.x<checkpointDimentions[B].point2.x+gameDimentions.point1.x&&ballDimentions.point3.y>checkpointDimentions[B].point1.y+gameDimentions.point1.y&&ballDimentions.point1.y<=checkpointDimentions[B].point3.y+gameDimentions.point1.y&&(o=B);for(let D=0;D<keyDimentions.length;D++)ballDimentions.point2.x>keyDimentions[D].point1.x+gameDimentions.point1.x&&ballDimentions.point1.x<keyDimentions[D].point2.x+gameDimentions.point1.x&&ballDimentions.point3.y>keyDimentions[D].point1.y+gameDimentions.point1.y&&ballDimentions.point1.y<=keyDimentions[D].point3.y+gameDimentions.point1.y&&(l=D);for(let h=0;h<doorDimentions.length;h++)ballDimentions.point2.x>doorDimentions[h].point1.x+gameDimentions.point1.x&&ballDimentions.point1.x<doorDimentions[h].point2.x+gameDimentions.point1.x&&ballDimentions.point3.y>doorDimentions[h].point1.y+gameDimentions.point1.y&&ballDimentions.point1.y<=doorDimentions[h].point3.y+gameDimentions.point1.y&&(m=h);if(n>=0){for(let y=0;y<game.children.length;y++)if(JSON.stringify(gameChildrenDimentions[y])==JSON.stringify(thronesDimentions[n])){if(lifeCount<=0)out.play(),ballRotate=0,ball.style.transform="rotate(0deg)",ball.setAttribute("src","./images/ball_pop.png"),gameLoopPlay=!1,setTimeout(()=>{updateLevelFunction(),updateLevel=0,gameLoopPlay=!0},500);else{let _=Date.now();_-timeForMotionThen>500&&(lifeCount--,timeForMotionThen=_),lives.innerHTML="";for(let x=0;x<lifeCount;x++){var $=document.createElement("img");$.setAttribute("src","./images/ball_small.png"),$.setAttribute("style",`top: ${50*x}px;left: 50px;`),lives.appendChild($)}out.play(),ballRotate=0,ball.style.transform="rotate(0deg)",ball.setAttribute("src","./images/ball_pop.png"),gameLoopPlay=!1,setTimeout(()=>{let i=-checkPoint.x+containerDimentions.width/2-25,n=-checkPoint.y+containerDimentions.height/2-25;i<=containerDimentions.point1.x&&n<=containerDimentions.point1.y&&i+gameDimentions.width>=containerDimentions.point3.x&&n+gameDimentions.height>=containerDimentions.point3.y?(gameLoopPlay=!0,ball.setAttribute("src","./images/ball_small.png"),gameX=-checkPoint.x+containerDimentions.width/2-25,gameY=-checkPoint.y+containerDimentions.height/2-25,ballY=containerDimentions.height/2-25,ballX=containerDimentions.width/2-25):i<=containerDimentions.point1.x&&n>containerDimentions.point1.y&&i+gameDimentions.width>=containerDimentions.point3.x&&n+gameDimentions.height>=containerDimentions.point3.y?(gameLoopPlay=!0,ball.setAttribute("src","./images/ball_small.png"),gameX=-checkPoint.x+containerDimentions.width/2-25,gameY=0,ballX=containerDimentions.width/2-25,ballY=checkPoint.y):i>containerDimentions.point1.x&&n<=containerDimentions.point1.y&&i+gameDimentions.width>=containerDimentions.point3.x&&n+gameDimentions.height>=containerDimentions.point3.y?(gameLoopPlay=!0,ball.setAttribute("src","./images/ball_small.png"),gameX=0,gameY=-checkPoint.y+containerDimentions.height/2-25,ballX=checkPoint.x,ballY=containerDimentions.height/2-25):i>containerDimentions.point1.x&&n>containerDimentions.point1.y?(gameLoopPlay=!0,ball.setAttribute("src","./images/ball_small.png"),gameX=0,gameY=0,ballX=checkPoint.x,ballY=checkPoint.y):i<=containerDimentions.point1.x&&n<=containerDimentions.point1.y&&i+gameDimentions.width<containerDimentions.point3.x&&n+gameDimentions.height>=containerDimentions.point3.y?(gameLoopPlay=!0,ball.setAttribute("src","./images/ball_small.png"),gameX=-gameDimentions.width+containerDimentions.width,gameY=-checkPoint.y+containerDimentions.height/2-25,ballX=checkPoint.x-gameDimentions.width+containerDimentions.width,ballY=containerDimentions.height/2-25):i<=containerDimentions.point1.x&&n<=containerDimentions.point1.y&&i+gameDimentions.width>=containerDimentions.point3.x&&n+gameDimentions.height<containerDimentions.point3.y?(gameLoopPlay=!0,ball.setAttribute("src","./images/ball_small.png"),gameY=-gameDimentions.height+containerDimentions.height,gameX=-checkPoint.x+containerDimentions.width/2-25,ballY=checkPoint.y-gameDimentions.height+containerDimentions.height,ballX=containerDimentions.width/2-25):i<=containerDimentions.point1.x&&n<=containerDimentions.point1.y?(gameLoopPlay=!0,ball.setAttribute("src","./images/ball_small.png"),gameX=-gameDimentions.width+containerDimentions.width,gameY=-gameDimentions.height+containerDimentions.height,ballX=checkPoint.x-gameDimentions.width+containerDimentions.width,ballY=checkPoint.y-gameDimentions.height+containerDimentions.height):i>containerDimentions.point1.x?(gameLoopPlay=!0,ball.setAttribute("src","./images/ball_small.png"),gameX=0,gameY=-gameDimentions.height+containerDimentions.height,ballX=checkPoint.x,ballY=checkPoint.y-gameDimentions.height+containerDimentions.height):i<=containerDimentions.point1.x&&(gameLoopPlay=!0,gameX=-gameDimentions.width+containerDimentions.width,gameY=0,ballX=checkPoint.x-gameDimentions.width+containerDimentions.width,ballY=checkPoint.y,ball.setAttribute("src","./images/ball_small.png"))},500)}}}if(t>=0){for(let k=0;k<game.children.length;k++)JSON.stringify(gameChildrenDimentions[k])==JSON.stringify(lifeBallDimentions[t])&&"none"!=game.children[k].style.display&&(game.children[k].style.display="none",bounty.play(),lifeCount++);lives.innerHTML="";for(let u=0;u<lifeCount;u++){var $=document.createElement("img");$.setAttribute("src","./images/ball_small.png"),$.setAttribute("style",`top: ${50*u}px;left: 50px;`),lives.appendChild($)}}if(l>=0)for(let w=0;w<game.children.length;w++)JSON.stringify(gameChildrenDimentions[w])==JSON.stringify(keyDimentions[l])&&"none"!=game.children[w].style.display&&(game.children[w].style.display="none",ring.play(),keyCount--);if(m>=0)for(let P=0;P<game.children.length;P++)"./images/door_open.png"==game.children[P].getAttribute("src")&&"none"!=game.children[P].style.display&&JSON.stringify(gameChildrenDimentions[P])==JSON.stringify(doorDimentions[m])&&(bounty.play(),updateLevel++,game.children[P].style.display="none");if(o>=0)for(let A=0;A<game.children.length;A++)JSON.stringify(gameChildrenDimentions[A])==JSON.stringify(checkpointDimentions[o])&&"./images/checkpoint.png"==game.children[A].getAttribute("src")&&(bounty.play(),game.children[A].setAttribute("src","./images/checkpoint_catched.png"),checkPoint.x=checkpointDimentions[o].point1.x,checkPoint.y=checkpointDimentions[o].point1.y);0==i?gameDimentions.point1.x>=containerDimentions.point1.x?(ballX-=ballSpeed,ballRotate-=ballRotateSpeed):ballX>containerDimentions.width/2-ballDimentions.width/2?(ballX-=ballSpeed,ballRotate-=ballRotateSpeed):(gameX+=ballSpeed,ballRotate-=ballRotateSpeed):i=0}};let rightKeyPressed=!1,leftKeyPressed=!1,topKeyPressed=!1,bottomKeyPressed=!0;window.addEventListener("keydown",i=>{"ArrowUp"===i.key?!1==g&&(topKeyPressed=!0,g=!0,setTimeout(()=>{topKeyPressed=!1},500)):"ArrowLeft"===i.key?leftKeyPressed=!0:"ArrowRight"===i.key&&(rightKeyPressed=!0)}),window.addEventListener("keyup",i=>{"ArrowUp"===i.key?topKeyPressed=!1:"ArrowLeft"===i.key?leftKeyPressed=!1:"ArrowRight"===i.key&&(rightKeyPressed=!1)});const checkForDirection=()=>{direction=topKeyPressed&&leftKeyPressed?"upward backword":topKeyPressed&&rightKeyPressed?"upward forward":bottomKeyPressed&&leftKeyPressed?"downward backward":bottomKeyPressed&&rightKeyPressed?"downward forward":topKeyPressed?"upward":bottomKeyPressed?"downward":rightKeyPressed?"forward":leftKeyPressed?"backword":""};